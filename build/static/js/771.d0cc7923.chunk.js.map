{"version":3,"file":"static/js/771.d0cc7923.chunk.js","mappings":"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","sources":["../node_modules/jwt-decode/lib/atob.js","../node_modules/jwt-decode/lib/base64_url_decode.js","../node_modules/jwt-decode/lib/index.js","components/NavBar/NavBar.js"],"sourcesContent":["/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","import React, { useCallback, useState } from \"react\";\r\nimport { AiOutlineUser, AiOutlineSetting, AiOutlineClose } from \"react-icons/ai\";\r\nimport { HiMenu, HiUser/*, HiOutlineDocumentReport*/ } from \"react-icons/hi\";\r\n// import { FaMoneyCheck } from \"react-icons/fa\";\r\nimport { MdLogout, MdLogin, MdDelete } from \"react-icons/md\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport \"./style.css\";\r\nimport { useEffect } from \"react\";\r\nimport { getUserData, LOGOUT, deleteUser } from \"../../actions/auth\";\r\n\r\nconst NavBar = ({ setMessage }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const { started, setting } = useSelector(state => state.timer);\r\n  const { user } = useSelector(state => state.auth);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token') && user === undefined) {\r\n      dispatch(getUserData(setMessage));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user !== undefined) {\r\n      const decodedToken = jwt_decode(localStorage.getItem('token'));\r\n\r\n      if (decodedToken.ext * 1000 < new Date().getTime()) {\r\n        dispatch({ type: LOGOUT });\r\n        console.log(decodedToken.ext * 1000 - new Date().getTime())\r\n      }\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [user]);\r\n\r\n  const toggleMenu = useCallback(() => {\r\n    if (open) {\r\n      document.body.style.overflow = \"auto\";\r\n    } else {\r\n      document.body.style.overflow = \"hidden\";\r\n    }\r\n    setOpen((o) => !o);\r\n    // eslint-disable-next-line\r\n  }, [open]);\r\n\r\n  const logout = () => { dispatch({ type: LOGOUT }); toggleMenu(); };\r\n\r\n  const delete_user = () => { dispatch(deleteUser(setMessage)); toggleMenu() }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"nav-bar\">\r\n        <Link to=\"/\">\r\n          <h1 style={{ color: \"#fff\" }}>Entagk</h1>\r\n        </Link>\r\n        <div>\r\n          <button\r\n            aria-label=\"toggle menu button\"\r\n            style={{ display: (setting?.focusMode && started) && \"none\" }}\r\n            className=\"toggle-menu\" onClick={toggleMenu} disabled={started}>\r\n            <HiMenu />\r\n          </button>\r\n        </div>\r\n        {open && (\r\n          <div className=\"menu-overflow\">\r\n            <div className=\"menu-content\">\r\n              <div className=\"close-container\">\r\n                <button\r\n                  aria-label=\"close button for menu\"\r\n                  className=\"close-button\"\r\n                  onClick={toggleMenu}\r\n                >\r\n                  <AiOutlineClose />\r\n                </button>\r\n              </div>\r\n              {user && (\r\n                <div className=\"user-data\" style={{ marginBottom: user && '15px' }}>\r\n                  <div className=\"user-avatar\" style={{ backgroundImage: `url(${user?.avatar})` }}>\r\n                    {!user?.avatar &&\r\n                      (\r\n                        <AiOutlineUser />\r\n                      )\r\n                    }\r\n                  </div>\r\n                  <p>{user?.name}</p>\r\n                </div>\r\n              )}\r\n              <div className=\"row\" style={{\r\n                paddingBottom: \"15px\"\r\n              }}>\r\n                <Link\r\n                  style={{ padding: user && '10px 16px 10px 30px' }}\r\n                  to={`${user ? \"/profile\" : \"/auth\"}`}\r\n                  onClick={toggleMenu}\r\n                  aria-label=\"user button in menu\">\r\n                  {user ? (\r\n                    <HiUser />\r\n                  ) : (<MdLogin />)}\r\n                  <p style={{ marginLeft: 10 }}>\r\n                    {user ? \"Profile\" : \"Login\"}\r\n                  </p>\r\n                </Link>\r\n                {/* {user && (\r\n                  <Link\r\n                    to=\"/subsecription\"\r\n                    style={{ padding: user && '10px 16px 10px 30px' }}\r\n                    onClick={toggleMenu}\r\n                    aria-label=\"subsecription button in menu\">\r\n                    <FaMoneyCheck />\r\n                    <p style={{ marginLeft: 10 }}>\r\n                      Subsecription\r\n                    </p>\r\n                  </Link>\r\n                )} */}\r\n                <Link\r\n                  to=\"/setting\"\r\n                  style={{ padding: user && '10px 16px 10px 30px' }}\r\n                  onClick={toggleMenu}\r\n                  aria-label=\"setting button in menu\">\r\n                  <AiOutlineSetting />\r\n                  <p style={{ marginLeft: 10 }}>\r\n                    Setting\r\n                  </p>\r\n                </Link>\r\n                {/* <Link\r\n                  to=\"/report\"\r\n                  style={{ padding: user && '10px 16px 10px 30px' }}\r\n                  onClick={toggleMenu}\r\n                  aria-label=\"report button in menu\">\r\n                  <HiOutlineDocumentReport />\r\n                  <p style={{ marginLeft: 10 }}>\r\n                    Report\r\n                  </p>\r\n                </Link> */}\r\n                {user && (\r\n                  <button\r\n                    onClick={logout}\r\n                    style={{ padding: user && '10px 16px 10px 30px' }}\r\n                    aria-label=\"logout button in menu\">\r\n                    <MdLogout />\r\n                    <p style={{ marginLeft: 10 }}>\r\n                      Logout\r\n                    </p>\r\n                  </button>\r\n                )}\r\n              </div>\r\n              {user && (\r\n                <div className=\"row\" style={{ marginTop: user && '20px' }}>\r\n                  <button\r\n                    aria-label=\"delete account button\"\r\n                    onClick={delete_user}\r\n                    style={{ padding: user && '10px 16px 10px 30px' }}>\r\n                    <MdDelete />\r\n                    <p style={{ marginLeft: 10 }}>Delete Account</p>\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div onClick={toggleMenu} style={{\r\n              height: \"100%\",\r\n              width: \"100%\"\r\n            }}></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NavBar;"],"names":["InvalidCharacterError","message","this","prototype","Error","name","window","atob","bind","input","str","String","replace","length","bs","buffer","bc","idx","output","charAt","fromCharCode","indexOf","decodeURIComponent","m","p","code","charCodeAt","toString","toUpperCase","b64DecodeUnicode","err","InvalidTokenError","token","options","pos","header","JSON","parse","base64_url_decode","split","e","setMessage","useState","open","setOpen","useSelector","state","timer","started","setting","user","auth","dispatch","useDispatch","useEffect","localStorage","getItem","undefined","getUserData","decodedToken","jwt_decode","ext","Date","getTime","type","LOGOUT","console","log","toggleMenu","useCallback","document","body","style","overflow","o","className","to","color","display","focusMode","onClick","disabled","marginBottom","backgroundImage","avatar","paddingBottom","padding","marginLeft","marginTop","deleteUser","height","width"],"sourceRoot":""}