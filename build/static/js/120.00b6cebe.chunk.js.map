{"version":3,"file":"static/js/120.00b6cebe.chunk.js","mappings":"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","sources":["components/NavBar/NavBar.js"],"sourcesContent":["import React, { useCallback, useState } from \"react\";\r\nimport { AiOutlineUser, AiOutlineSetting, AiOutlineClose } from \"react-icons/ai\";\r\nimport { HiMenu, HiUser, HiOutlineDocumentReport } from \"react-icons/hi\";\r\nimport { FaMoneyCheck } from \"react-icons/fa\";\r\nimport { MdLogout, MdLogin, MdDelete } from \"react-icons/md\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport \"./style.css\";\r\nimport { useEffect } from \"react\";\r\nimport { getUserData, LOGOUT, deleteUser } from \"../../actions/auth\";\r\n\r\nconst NavBar = ({ setMessage }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const { started, setting } = useSelector(state => state.timer);\r\n  const { user } = useSelector(state => state.auth);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token') && user === undefined) {\r\n      dispatch(getUserData(setMessage));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user !== undefined) {\r\n      const decodedToken = jwt_decode(localStorage.getItem('token'));\r\n\r\n      if (decodedToken.ext * 1000 < new Date().getTime()) {\r\n        dispatch({ type: LOGOUT });\r\n        console.log(decodedToken.ext * 1000 - new Date().getTime())\r\n      }\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [user]);\r\n\r\n  const toggleMenu = useCallback(() => {\r\n    if (open) {\r\n      document.body.style.overflow = \"auto\";\r\n    } else {\r\n      document.body.style.overflow = \"hidden\";\r\n    }\r\n    setOpen((o) => !o);\r\n    // eslint-disable-next-line\r\n  }, [open]);\r\n\r\n  const logout = () => { dispatch({ type: LOGOUT }); toggleMenu(); };\r\n\r\n  const delete_user = () => { dispatch(deleteUser(setMessage)); toggleMenu() }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"nav-bar\">\r\n        <Link to=\"/\">\r\n          <h1 style={{ color: \"#fff\" }}>Entagk</h1>\r\n        </Link>\r\n        <div>\r\n          <button\r\n            aria-label=\"toggle menu button\"\r\n            style={{ display: (setting?.focusMode && started) && \"none\" }}\r\n            className=\"toggle-menu\" onClick={toggleMenu} disabled={started}>\r\n            <HiMenu />\r\n          </button>\r\n        </div>\r\n        {open && (\r\n          <div className=\"menu-overflow\">\r\n            <div className=\"menu-content\">\r\n              <div className=\"close-container\">\r\n                <button\r\n                  aria-label=\"close button for menu\"\r\n                  className=\"close-button\"\r\n                  onClick={toggleMenu}\r\n                >\r\n                  <AiOutlineClose />\r\n                </button>\r\n              </div>\r\n              {user && (\r\n                <div className=\"user-data\" style={{ marginBottom: user && '15px' }}>\r\n                  <div className=\"user-avatar\" style={{ backgroundImage: `url(${user?.avatar})` }}>\r\n                    {!user?.avatar &&\r\n                      (\r\n                        <AiOutlineUser />\r\n                      )\r\n                    }\r\n                  </div>\r\n                  <p>{user?.name}</p>\r\n                </div>\r\n              )}\r\n              <div className=\"row\" style={{\r\n                paddingBottom: \"15px\"\r\n              }}>\r\n                <Link\r\n                  style={{ padding: user && '10px 16px 10px 30px' }}\r\n                  to={`${user ? \"/profile\" : \"/auth\"}`}\r\n                  onClick={toggleMenu}\r\n                  aria-label=\"user button in menu\">\r\n                  {user ? (\r\n                    <HiUser />\r\n                  ) : (<MdLogin />)}\r\n                  <p style={{ marginLeft: 10 }}>\r\n                    {user ? \"Profile\" : \"Login\"}\r\n                  </p>\r\n                </Link>\r\n                {user && (\r\n                  <Link\r\n                    to=\"/subsecription\"\r\n                    style={{ padding: user && '10px 16px 10px 30px' }}\r\n                    onClick={toggleMenu}\r\n                    aria-label=\"subsecription button in menu\">\r\n                    <FaMoneyCheck />\r\n                    <p style={{ marginLeft: 10 }}>\r\n                      Subsecription\r\n                    </p>\r\n                  </Link>\r\n                )}\r\n                <Link\r\n                  to=\"/setting\"\r\n                  style={{ padding: user && '10px 16px 10px 30px' }}\r\n                  onClick={toggleMenu}\r\n                  aria-label=\"setting button in menu\">\r\n                  <AiOutlineSetting />\r\n                  <p style={{ marginLeft: 10 }}>\r\n                    Setting\r\n                  </p>\r\n                </Link>\r\n                <Link\r\n                  to=\"/report\"\r\n                  style={{ padding: user && '10px 16px 10px 30px' }}\r\n                  onClick={toggleMenu}\r\n                  aria-label=\"report button in menu\">\r\n                  <HiOutlineDocumentReport />\r\n                  <p style={{ marginLeft: 10 }}>\r\n                    Report\r\n                  </p>\r\n                </Link>\r\n                {user && (\r\n                  <button\r\n                    onClick={logout}\r\n                    style={{ padding: user && '10px 16px 10px 30px' }}\r\n                    aria-label=\"logout button in menu\">\r\n                    <MdLogout />\r\n                    <p style={{ marginLeft: 10 }}>\r\n                      Logout\r\n                    </p>\r\n                  </button>\r\n                )}\r\n              </div>\r\n              {user && (\r\n                <div className=\"row\" style={{ marginTop: user && '20px' }}>\r\n                  <button\r\n                    aria-label=\"delete account button\"\r\n                    onClick={delete_user}\r\n                    style={{ padding: user && '10px 16px 10px 30px' }}>\r\n                    <MdDelete />\r\n                    <p style={{ marginLeft: 10 }}>Delete Account</p>\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div onClick={toggleMenu} style={{\r\n              height: \"100%\",\r\n              width: \"100%\"\r\n            }}></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NavBar;"],"names":["setMessage","useState","open","setOpen","useSelector","state","timer","started","setting","user","auth","dispatch","useDispatch","useEffect","localStorage","getItem","undefined","getUserData","decodedToken","jwt_decode","ext","Date","getTime","type","LOGOUT","console","log","toggleMenu","useCallback","document","body","style","overflow","o","className","to","color","display","focusMode","onClick","disabled","marginBottom","backgroundImage","avatar","name","paddingBottom","padding","marginLeft","marginTop","deleteUser","height","width"],"sourceRoot":""}