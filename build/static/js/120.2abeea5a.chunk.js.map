{"version":3,"file":"static/js/120.2abeea5a.chunk.js","mappings":"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","sources":["components/NavBar/NavBar.js"],"sourcesContent":["import React, { useCallback, useState } from \"react\";\r\nimport { AiOutlineUser, AiOutlineSetting, AiOutlineClose } from \"react-icons/ai\";\r\nimport { HiMenu, HiUser, HiOutlineDocumentReport } from \"react-icons/hi\";\r\nimport { FaMoneyCheck } from \"react-icons/fa\";\r\nimport { MdLogout, MdLogin, MdDelete } from \"react-icons/md\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport \"./style.css\";\r\nimport { useEffect } from \"react\";\r\nimport { getUserData, LOGOUT, deleteUser } from \"../../actions/auth\";\r\nimport Message from \"../../utils/Message\";\r\n\r\nconst NavBar = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const { started, setting } = useSelector(state => state.timer);\r\n  const { user } = useSelector(state => state.auth);\r\n  const [message, setMessage] = useState({ message: '', type: '' });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token') && user === undefined) {\r\n      dispatch(getUserData(setMessage));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const decodedToken = jwt_decode(localStorage.getItem('token'));\r\n\r\n    if (decodedToken.ext * 1000 < new Date().getTime()) {\r\n      dispatch({ type: LOGOUT });\r\n      console.log(decodedToken.ext * 1000 - new Date().getTime())\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const toggleMenu = useCallback(() => {\r\n    if (open) {\r\n      document.body.style.overflow = \"auto\";\r\n    } else {\r\n      document.body.style.overflow = \"hidden\";\r\n    }\r\n    setOpen((o) => !o);\r\n    // eslint-disable-next-line\r\n  }, [open]);\r\n\r\n  const logout = () => { dispatch({ type: LOGOUT }); toggleMenu(); };\r\n\r\n  const delete_user = () => { dispatch(deleteUser(setMessage)); toggleMenu() }\r\n\r\n  return (\r\n    <>\r\n\r\n      <div className=\"nav-bar\">\r\n        {message.message && (<Message {...message} setMessage={setMessage} />)}\r\n        <Link to=\"/\">\r\n          <h1 style={{ color: \"#fff\" }}>Entagk</h1>\r\n        </Link>\r\n        <div>\r\n          <button\r\n            aria-label=\"toggle menu button\"\r\n            style={{ display: (setting?.focusMode && started) && \"none\" }}\r\n            className=\"toggle-menu\" onClick={toggleMenu} disabled={started}>\r\n            <HiMenu />\r\n          </button>\r\n        </div>\r\n        {open && (\r\n          <div className=\"menu-overflow\">\r\n            <div className=\"menu-content\">\r\n              <div className=\"close-container\">\r\n                <button\r\n                  aria-label=\"close button for menu\"\r\n                  className=\"close-button\"\r\n                  onClick={toggleMenu}\r\n                >\r\n                  <AiOutlineClose />\r\n                </button>\r\n              </div>\r\n              {user && (\r\n                <div className=\"user-data\" style={{ marginBottom: user && '15px' }}>\r\n                  <div className=\"user-avatar\" style={{ backgroundImage: `url(${user?.avatar})` }}>\r\n                    {!user?.avatar &&\r\n                      (\r\n                        <AiOutlineUser />\r\n                      )\r\n                    }\r\n                  </div>\r\n                  <p>{user?.name}</p>\r\n                </div>\r\n              )}\r\n              <div className=\"row\" style={{\r\n                paddingBottom: \"15px\"\r\n              }}>\r\n                <Link\r\n                  style={{ padding: user && '10px 16px 10px 30px' }}\r\n                  to={`${user ? \"/profile\" : \"/auth\"}`}\r\n                  onClick={toggleMenu}\r\n                  aria-label=\"user button in menu\">\r\n                  {user ? (\r\n                    <HiUser />\r\n                  ) : (<MdLogin />)}\r\n                  <p style={{ marginLeft: 10 }}>\r\n                    {user ? \"Profile\" : \"Login\"}\r\n                  </p>\r\n                </Link>\r\n                {user && (\r\n                  <Link\r\n                    to=\"/subsecription\"\r\n                    style={{ padding: user && '10px 16px 10px 30px' }}\r\n                    onClick={toggleMenu}\r\n                    aria-label=\"subsecription button in menu\">\r\n                    <FaMoneyCheck />\r\n                    <p style={{ marginLeft: 10 }}>\r\n                      Subsecription\r\n                    </p>\r\n                  </Link>\r\n                )}\r\n                <Link\r\n                  to=\"/setting\"\r\n                  style={{ padding: user && '10px 16px 10px 30px' }}\r\n                  onClick={toggleMenu}\r\n                  aria-label=\"setting button in menu\">\r\n                  <AiOutlineSetting />\r\n                  <p style={{ marginLeft: 10 }}>\r\n                    Setting\r\n                  </p>\r\n                </Link>\r\n                <Link\r\n                  to=\"/report\"\r\n                  style={{ padding: user && '10px 16px 10px 30px' }}\r\n                  onClick={toggleMenu}\r\n                  aria-label=\"report button in menu\">\r\n                  <HiOutlineDocumentReport />\r\n                  <p style={{ marginLeft: 10 }}>\r\n                    Report\r\n                  </p>\r\n                </Link>\r\n                {user && (\r\n                  <button\r\n                    onClick={logout}\r\n                    style={{ padding: user && '10px 16px 10px 30px' }}\r\n                    aria-label=\"logout button in menu\">\r\n                    <MdLogout />\r\n                    <p style={{ marginLeft: 10 }}>\r\n                      Logout\r\n                    </p>\r\n                  </button>\r\n                )}\r\n              </div>\r\n              {user && (\r\n                <div className=\"row\" style={{ marginTop: user && '20px' }}>\r\n                  <button\r\n                    aria-label=\"delete account button\"\r\n                    onClick={delete_user}\r\n                    style={{ padding: user && '10px 16px 10px 30px' }}>\r\n                    <MdDelete />\r\n                    <p style={{ marginLeft: 10 }}>Delete Account</p>\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div onClick={toggleMenu} style={{\r\n              height: \"100%\",\r\n              width: \"100%\"\r\n            }}></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NavBar;"],"names":["useState","open","setOpen","useSelector","state","timer","started","setting","user","auth","message","type","setMessage","dispatch","useDispatch","useEffect","localStorage","getItem","undefined","getUserData","decodedToken","jwt_decode","ext","Date","getTime","LOGOUT","console","log","toggleMenu","useCallback","document","body","style","overflow","o","className","Message","to","color","display","focusMode","onClick","disabled","marginBottom","backgroundImage","avatar","name","paddingBottom","padding","marginLeft","marginTop","deleteUser","height","width"],"sourceRoot":""}